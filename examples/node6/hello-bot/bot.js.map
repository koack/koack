{"version":3,"sources":["../../src/hello-bot/bot.js"],"names":["bot","on","MESSAGE","events","CHANNEL_JOIN","GROUP_JOIN","handler","ctx","fromMe","reply","mention","event","inviter","regexp","where"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;;;kBAGe,aAACA,GAAD,EAAc;AAC3BA,MAAIC,EAAJ,CACE,gBAAWC,OADb,EAEE,mCAAoB,CAClB;AACEC,YAAQ,CAAC,0BAAqBC,YAAtB,EAAoC,0BAAqBC,UAAzD,CADV;AAEEC,aAAUC,GAAD,IAAS;AAChB,UAAIA,IAAIC,MAAR,EAAgB;AACdD,YAAIE,KAAJ,CAAW,UAAQF,IAAIG,OAAJ,CAAYH,IAAII,KAAJ,CAAUC,OAAtB,CAA+B,6BAAlD;AACD,OAFD,MAEO;AACLL,YAAIE,KAAJ,CAAW,YAAUF,IAAIG,OAAJ,EAAc,KAAnC;AACD;AACF;AARH,GADkB,CAApB,CAFF,EAcE,6BAAc,CACZ;AACEG,YAAQ,oBADV;AAEE;AACAP,aAAUC,GAAD,IAAS;AAChBA,UAAIE,KAAJ,CAAW,UAAQF,IAAIG,OAAJ,EAAc,GAAjC;AACD;AALH,GADY,EAQZ;AACEI,iBADF;AAEER,aAAUC,GAAD,IAASA,IAAIE,KAAJ,CAAU,iCAAV;AAFpB,GARY,CAAd,CAdF;AA4BD,C","file":"bot.js","sourcesContent":["import { RTM_EVENTS, RTM_MESSAGE_SUBTYPES } from 'koack/src/bot';\nimport messageEventsRouter from 'koack/src/message-events-router';\nimport messageRouter from 'koack/src/message-router';\nimport type { Bot } from 'koack/src/types';\n\nexport default (bot: Bot) => {\n  bot.on(\n    RTM_EVENTS.MESSAGE,\n    messageEventsRouter([\n      {\n        events: [RTM_MESSAGE_SUBTYPES.CHANNEL_JOIN, RTM_MESSAGE_SUBTYPES.GROUP_JOIN],\n        handler: (ctx) => {\n          if (ctx.fromMe) {\n            ctx.reply(`Hello ${ctx.mention(ctx.event.inviter)}, thanks for inviting me !`);\n          } else {\n            ctx.reply(`Welcome ${ctx.mention()} !`);\n          }\n        },\n      },\n    ]),\n    messageRouter([\n      {\n        regexp: /\\b(hello|hi|hey)\\b/,\n        // stop: false,\n        handler: (ctx) => {\n          ctx.reply(`Hello ${ctx.mention()}`);\n        },\n      },\n      {\n        where: ['dm'],\n        handler: (ctx) => ctx.reply('Sorry, I didn\\'t understood you'),\n      },\n    ]),\n  );\n}\n;\n"]}