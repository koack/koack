{"version":3,"sources":["../../src/hello-bot/bot.js"],"names":["bot","on","CHANNEL_JOINED","ctx","console","log","Promise","resolve","MESSAGE","events","CHANNEL_JOIN","GROUP_JOIN","handler","fromMe","reply","mention","event","inviter","regexp","where"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;;;;;kBAGgBA,GAAD,IAAc;AAC3BA,MAAIC,EAAJ,CACE,gBAAWC,cADb,EAEGC,GAAD,IAASC,QAAQC,GAAR,CAAYF,GAAZ,CAFX;AAAA,iCAGE,WAAOA,GAAP;AAAA,aAAeG,QAAQC,OAAR,CAAgBH,QAAQC,GAAR,CAAYF,GAAZ,CAAhB,CAAf;AAAA,KAHF;;AAAA;AAAA;AAAA;AAAA;;AAMAH,MAAIC,EAAJ,CACE,gBAAWO,OADb,EAEE,mCAAoB,CAClB;AACEC,YAAQ,CAAC,0BAAqBC,YAAtB,EAAoC,0BAAqBC,UAAzD,CADV;AAEEC,aAAUT,GAAD,IAAS;AAChB,UAAIA,IAAIU,MAAR,EAAgB;AACdV,YAAIW,KAAJ,CAAW,UAAQX,IAAIY,OAAJ,CAAYZ,IAAIa,KAAJ,CAAUC,OAAtB,CAA+B,6BAAlD;AACD,OAFD,MAEO;AACLd,YAAIW,KAAJ,CAAW,YAAUX,IAAIY,OAAJ,EAAc,KAAnC;AACD;AACF;AARH,GADkB,CAApB,CAFF,EAcE,6BAAc,CACZ;AACEG,YAAQ,oBADV;AAEE;AACAN,aAAUT,GAAD,IAAS;AAChBA,UAAIW,KAAJ,CAAW,UAAQX,IAAIY,OAAJ,EAAc,GAAjC;AACD;AALH,GADY,EAQZ;AACEI,iBADF;AAEEP,aAAUT,GAAD,IAASA,IAAIW,KAAJ,CAAU,iCAAV;AAFpB,GARY,CAAd,CAdF;AA4BD,C","file":"bot.js","sourcesContent":["import { RTM_EVENTS, RTM_MESSAGE_SUBTYPES } from 'koack/src/bot';\nimport messageEventsRouter from 'koack/src/message-events-router';\nimport messageRouter from 'koack/src/message-router';\nimport type { Bot } from 'koack/src/bot';\n\nexport default (bot: Bot) => {\n  bot.on(\n    RTM_EVENTS.CHANNEL_JOINED,\n    (ctx) => console.log(ctx),\n    async (ctx) => Promise.resolve(console.log(ctx)),\n  );\n\n  bot.on(\n    RTM_EVENTS.MESSAGE,\n    messageEventsRouter([\n      {\n        events: [RTM_MESSAGE_SUBTYPES.CHANNEL_JOIN, RTM_MESSAGE_SUBTYPES.GROUP_JOIN],\n        handler: (ctx) => {\n          if (ctx.fromMe) {\n            ctx.reply(`Hello ${ctx.mention(ctx.event.inviter)}, thanks for inviting me !`);\n          } else {\n            ctx.reply(`Welcome ${ctx.mention()} !`);\n          }\n        },\n      },\n    ]),\n    messageRouter([\n      {\n        regexp: /\\b(hello|hi|hey)\\b/,\n        // stop: false,\n        handler: (ctx) => {\n          ctx.reply(`Hello ${ctx.mention()}`);\n        },\n      },\n      {\n        where: ['dm'],\n        handler: (ctx) => ctx.reply('Sorry, I didn\\'t understood you'),\n      },\n    ]),\n  );\n};\n"]}