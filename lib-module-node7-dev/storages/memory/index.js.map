{"version":3,"sources":["../../../src/storages/memory/index.js"],"names":["InstallInfoType","StorageType","TeamType","createTeam","updateTeam","Map","forEach","callback","teams","installedTeam","installInfo","get","team","id","set"],"mappings":"AACA,SAAcA,mCAAd,EAA+BC,2BAA/B,EAA4CC,qBAA5C,QAA4D,aAA5D;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,UAAvC;;;;;;AAEA,gBAAe,kBAAmB;AAAA,gCAAf,kBAAe;;AAChC,gBAAW,aAAM,UAAN,EAAc,eAAd,CAAX,QAAqC,IAAIC,GAAJ,EAArC;;AAEA,6BAAO;AACLC,aAAUC,QAAD,IAAcC,MAAMF,OAAN,CAAcC,QAAd,CADlB;;AAGLE,mBAAe,MAAOC,WAAP,IAA2D;AAAA,6BAAzC,sBAAyC;;AAAA,2CAAb,eAAa,EAArB,iBAAQ,eAAR,CAAqB;;AAAA;;AACxE,sBAAQ,WAAG,eAAH,CAAR;AAAA,kCAAsBF,MAAMG,GAAN,CAAUD,YAAYE,IAAZ,CAAiBC,EAA3B,CAAtB;;AAEA,UAAI,CAACD,IAAL,EAAW;AACTA,gCAAOT,WAAWO,WAAX,CAAP;AACAF,cAAMM,GAAN,CAAUF,KAAKC,EAAf,EAAmBD,IAAnB;AACD,OAHD,MAGO;AACLA,gCAAOR,WAAWQ,IAAX,EAAiBF,WAAjB,CAAP;AACAF,cAAMM,GAAN,CAAUF,KAAKC,EAAf,EAAmBD,IAAnB;AACD;;AAED,gCAAOA,IAAP;AACD;AAfI,GAAP;AAiBD,CApBD","file":"index.js","sourcesContent":["/* @flow */\nimport type { InstallInfoType, StorageType, TeamType } from '../../types';\nimport { createTeam, updateTeam } from '../utils';\n\nexport default (): StorageType => {\n  const teams: Map<string, TeamType> = new Map();\n\n  return {\n    forEach: (callback) => teams.forEach(callback),\n\n    installedTeam: async (installInfo: InstallInfoType): Promise<TeamType> => {\n      let team: ?TeamType = teams.get(installInfo.team.id);\n\n      if (!team) {\n        team = createTeam(installInfo);\n        teams.set(team.id, team);\n      } else {\n        team = updateTeam(team, installInfo);\n        teams.set(team.id, team);\n      }\n\n      return team;\n    },\n  };\n};\n"]}