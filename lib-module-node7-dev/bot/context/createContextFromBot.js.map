{"version":3,"sources":["../../../src/bot/context/createContextFromBot.js"],"names":["Logger","Bot","contextPrototype","ContextType","bot","ctx","Object","create","assign","rtm","webClient","team","logger","setContext","id","name","user"],"mappings":"AAAA,OAAOA,MAAP;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAAcC,2BAAd,QAAiC,UAAjC;;;;AAEA,gBAAe,8BAACC,GAAD,EAA2B;AAAA,iBAAvB,UAAuB;;AAAA,+BAAf,kBAAe;;AAAA;;AACxC,QAAMC,MAAMC,OAAOC,MAAP,CAAcL,gBAAd,CAAZ;;AAEAI,SAAOE,MAAP,CAAcH,GAAd,EAAmB;AACjBD,OADiB;AAEjBK,SAAKL,IAAIK,GAFQ;AAGjBC,eAAWN,IAAIM,SAHE;AAIjBC,UAAMP,IAAIO;AAJO,GAAnB;;AAOAN,MAAIO,MAAJ,GAAa,IAAIZ,MAAJ,CAAW,KAAX,CAAb;AACAK,MAAIO,MAAJ,CAAWC,UAAX,CAAsB;AACpBF,UAAMP,IAAIO,IAAJ,IAAY,EAAEG,IAAIV,IAAIO,IAAJ,CAASG,EAAf,EAAmBC,MAAMX,IAAIO,IAAJ,CAASI,IAAlC,EADE;AAEpBC,UAAMX,IAAIW,IAAJ,IAAYX,IAAIW,IAAJ,CAASD;AAFP,GAAtB;;AAKA,4BAAOV,GAAP;AACD,CAjBD","file":"createContextFromBot.js","sourcesContent":["import Logger from 'nightingale-logger/src';\nimport Bot from '../Bot';\nimport contextPrototype from './contextPrototype';\nimport type { ContextType } from '../types';\n\nexport default (bot: Bot): ContextType => {\n  const ctx = Object.create(contextPrototype);\n\n  Object.assign(ctx, {\n    bot,\n    rtm: bot.rtm,\n    webClient: bot.webClient,\n    team: bot.team,\n  });\n\n  ctx.logger = new Logger('bot');\n  ctx.logger.setContext({\n    team: bot.team && { id: bot.team.id, name: bot.team.name },\n    user: ctx.user && ctx.user.name,\n  });\n\n  return ctx;\n};\n"]}