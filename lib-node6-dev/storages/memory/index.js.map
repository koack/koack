{"version":3,"sources":["../../../src/storages/memory/index.js"],"names":["teams","Map","forEach","callback","installedTeam","installInfo","team","get","id","set"],"mappings":";;;;;;;;;;;AACA;;AACA;;;;;;kBAEe,kBAAmB;AAAA;AAChC,UAAMA,gBAA+B,IAAIC,GAAJ,EAA/B,EAAOA,GAAP,UAAN;;AAEA,WAAO;AACLC,eAAUC,QAAD,IAAcH,MAAME,OAAN,CAAcC,QAAd,CADlB;;AAGLC,qBAAsBC,WAAP,IAA2D;AAAA,gBAApDA,WAAoD;;AAAA;AAAA;AACxE,gBAAIC,eAAkBN,MAAMO,GAAN,CAAUF,YAAYC,IAAZ,CAAiBE,EAA3B,CAAlB,uDAAJ;;AAEA,gBAAI,CAACF,IAAL,EAAW;AACTA,6BAAO,uBAAWD,WAAX,CAAP;AACAL,oBAAMS,GAAN,CAAUH,KAAKE,EAAf,EAAmBF,IAAnB;AACD,aAHD,MAGO;AACLA,6BAAO,uBAAWA,IAAX,EAAiBD,WAAjB,CAAP;AACAL,oBAAMS,GAAN,CAAUH,KAAKE,EAAf,EAAmBF,IAAnB;AACD;;AAED,mBAAOA,IAAP;AAXwE;;AAAA;AAAA;AAAA;AAAA;AAYzE;AAfI,KAAP;AAHgC;AAoBjC,C","file":"index.js","sourcesContent":["/* @flow */\nimport type { InstallInfoType, StorageType, TeamType } from '../../types';\nimport { createTeam, updateTeam } from '../utils';\n\nexport default (): StorageType => {\n  const teams: Map<string, TeamType> = new Map();\n\n  return {\n    forEach: (callback) => teams.forEach(callback),\n\n    installedTeam: async (installInfo: InstallInfoType): Promise<TeamType> => {\n      let team: ?TeamType = teams.get(installInfo.team.id);\n\n      if (!team) {\n        team = createTeam(installInfo);\n        teams.set(team.id, team);\n      } else {\n        team = updateTeam(team, installInfo);\n        teams.set(team.id, team);\n      }\n\n      return team;\n    },\n  };\n};\n"]}