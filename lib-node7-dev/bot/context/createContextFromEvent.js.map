{"version":3,"sources":["../../../src/bot/context/createContextFromEvent.js"],"names":["extractIdFromEvent","key","event","id","extrackUserIdFromEvent","extrackChannelIdFromEvent","bot","ctx","Object","assign","userId","channelId","logger","extendsContext","text"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;AAEA,MAAMA,qBAAsBC,GAAD;AAAA,iBAAI,8BAAJ;;AAAA;;AAAA,SACxBC,KAAD,IAAmB;AAAA,qBAAb,8BAAa;;AAAA;;AACjB,QAAI,OAAOA,MAAMD,GAAN,CAAP,KAAsB,QAA1B,EAAoC;AAClC,aAAOC,MAAMD,GAAN,CAAP;AACD;AACD,QAAI,OAAOC,MAAMD,GAAN,CAAP,KAAsB,QAA1B,EAAoC;AAClC,aAAOC,MAAMD,GAAN,EAAWE,EAAlB;AACD;;AAED,WAAO,IAAP;AACD,GAVwB;AAAA,CAA3B;;AAaA,MAAMC,yBAAyBJ,mBAAmB,MAAnB,CAA/B;AACA,MAAMK,4BAA4BL,mBAAmB,SAAnB,CAAlC;;kBAEe,gCAACM,GAAD,EAAWJ,KAAX,EAA+C;AAAA,iBAA3C,wCAA2C;;AAAA,oBAA/B,8BAA+B;;AAAA,mDAApB,2CAAoB;;AAAA;;AAAA;;AAC5D,QAAMK,MAAM,oCAAqBD,GAArB,CAAZ;;AAEAE,SAAOC,MAAP,CAAcF,GAAd,EAAmB;AACjBL,SADiB;AAEjBQ,YAAQN,uBAAuBF,KAAvB,CAFS;AAGjBS,eAAWN,0BAA0BH,KAA1B;AAHM,GAAnB;;AAMAK,MAAIK,MAAJ,CAAWC,cAAX,CAA0B;AACxBC,UAAMZ,MAAMY;AADY,GAA1B;;AAIA,4BAAOP,GAAP;AACD,C","file":"createContextFromEvent.js","sourcesContent":["import Bot from '../Bot';\nimport createContextFromBot from './createContextFromBot';\nimport type { EventContextType } from '../types';\n\nconst extractIdFromEvent = (key: string) => (\n  (event: Object) => {\n    if (typeof event[key] === 'string') {\n      return event[key];\n    }\n    if (typeof event[key] === 'object') {\n      return event[key].id;\n    }\n\n    return null;\n  }\n);\n\nconst extrackUserIdFromEvent = extractIdFromEvent('user');\nconst extrackChannelIdFromEvent = extractIdFromEvent('channel');\n\nexport default (bot: Bot, event: Object): EventContextType => {\n  const ctx = createContextFromBot(bot);\n\n  Object.assign(ctx, {\n    event,\n    userId: extrackUserIdFromEvent(event),\n    channelId: extrackChannelIdFromEvent(event),\n  });\n\n  ctx.logger.extendsContext({\n    text: event.text,\n  });\n\n  return ctx;\n};\n"]}